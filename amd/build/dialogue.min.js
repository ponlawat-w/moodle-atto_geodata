define ("atto_geodata/dialogue",["jquery","core/modal_factory","core/modal_events","atto_geodata/geotype_pointfrommap","atto_geodata/geotype_geojson"],function(a,b,c,d,e){var f="<ul class=\"nav nav-tabs atto_geodata-geotypes\"><li class=\"nav-item\"><a href=\"javascript:void(0);\" data-geotype=\"point\" class=\"nav-link\">"+M.str.atto_geodata.geotype_pointfrommap+"</a></li><li class=\"nav-item\"><a href=\"javascript:void(0);\" data-geotype=\"geojson\" class=\"nav-link\">"+M.str.atto_geodata.geotype_geojson+"</a></li></ul><div id=\"atto_geodata-body\"></div>",g={point:d,geojson:e},h=null,i=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:void 0;if(h){h.dispose()}a("#atto_geodata-body").html("");var d=a(".atto_geodata-geotypes");d.find("a").removeClass("active");if(g[b]){d.find("[data-geotype=".concat(b,"]")).addClass("active");h=g[b];h.init(c)}},j=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:void 0;i(b,c);var d=a(".atto_geodata-geotypes");d.find("a").click(function(b){var c=a(b.target).attr("data-geotype");i(c)})};return function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"point",d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:void 0;return new Promise(function(g,i){b.create({type:b.types.SAVE_CANCEL,title:"Test",body:f,large:!0}).then(function(b){b.getRoot().on(c.shown,function(){j(a,d)});b.getRoot().on(c.hidden,function(){if(h){h.dispose()}b.destroy();i()});b.getRoot().on(c.save,function(a){if(h){var c=h.save();if(!1===c){a.preventDefault();return}g(c)}b.hide()});b.show()})})}});
//# sourceMappingURL=dialogue.min.js.map
